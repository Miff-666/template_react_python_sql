(this.webpackJsonplivetex=this.webpackJsonplivetex||[]).push([[0],{122:function(e,t,a){e.exports={parent:"login_parent__3nX4_"}},132:function(e,t,a){e.exports={parent:"setting_parent__2pXbh"}},143:function(e,t,a){e.exports=a(250)},148:function(e,t,a){},154:function(e,t,a){},250:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(6),i=a.n(r),o=(a(148),a(79)),s=(a(154),a(40)),c=a(116),u=a(27),_=a(117).create({baseURL:"/livetex/api/",headers:{"Content-Type":"application/x-www-form-urlencoded"}}),p={login:function(e){return _.post("/",{type:"auth",token:e})},save:function(e,t,a,n){return _.post("/",{type:"save",is_integration:t,select_user_id:a,select_site_id:n,app_id:e})}},d=a(118),g="SET_AUTH",m="SET_TOKEN",h="SET_SELECT_USER_ID",b="SET_SELECT_SITE_ID",y="SAVE",E="SET_INTEGRATION_STATUS",f={auth:function(e){return function(t){var a={is_auth:!1};p.login(e).then((function(e){a=e.data,console.log(a),t({type:g,payload:a})})).catch((function(e){console.log(a,e),t({type:g,payload:a})}))}},input_token_change:function(e){return{type:m,payload:e}},on_select_user:function(e){return{type:h,payload:e}},save:function(e,t,a,n){return function(l){var r="\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435";d.a.loading({content:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...",key:r});var i={saved:!1};p.save(e,t,a,n).then((function(e){switch(e.status){case 200:e.data.saved?d.a.success({content:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!",key:r,duration:2}):d.a.error({content:"\u041d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!",key:r,duration:2}),l({type:y,payload:i.saved});break;default:d.a.error({content:"\u041d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!",key:r,duration:2}),l({type:y,payload:(i={saved:!1}).saved})}})).catch((function(e){d.a.error({content:"\u041d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!",key:r,duration:2}),console.log(i,e),l({type:y,payload:i.saved})}))}},on_select_site:function(e){return{type:b,payload:e}},set_integration_status:function(e){return{type:E,payload:e}}};var v={is_auth:!1,input_token_text:"\u0422\u043e\u043a\u0435\u043d API",input_token_description:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u043e\u043a\u0435\u043d API UIS",input_token_value:"",login_btn_text:"\u0412\u043e\u0439\u0442\u0438",error_auth_text:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u0438\u043b\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0443 \u0442\u043e\u043a\u0435\u043d\u0430",error_auth_show:!1,app_id:0,select_user_id:0,user_list:[],site_list:[],select_site_id:0,is_integration:!1,url_webhook:"",is_access_api_chat:!1};function x(e,t){return t.is_auth?Object(u.a)(Object(u.a)({},e),{},{is_auth:t.is_auth,app_id:t.app_id,user_list:t.user_list,site_list:t.site_list,select_user_id:t.select_user_id,select_site_id:t.select_site_id,is_integration:t.is_integration,url_webhook:t.url_webhook,error_auth_show:!1,is_access_api_chat:t.is_access_api_chat}):Object(u.a)(Object(u.a)({},e),{},{is_auth:t.is_auth,app_id:0,user_list:[],select_user_id:0,error_auth_show:!0,is_access_api_chat:!1})}var k=Object(s.c)({global:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return x(e,t.payload);case m:return Object(u.a)(Object(u.a)({},e),{},{input_token_value:t.payload});case h:return Object(u.a)(Object(u.a)({},e),{},{select_user_id:t.payload});case b:return Object(u.a)(Object(u.a)({},e),{},{select_site_id:t.payload});case y:return Object(u.a)({},e);case E:return Object(u.a)(Object(u.a)({},e),{},{is_integration:t.payload});default:return e}}}),O=Object(s.d)(k,Object(s.a)(c.a)),w=(a(193),a(11)),T=a(137),j=a(120),S=a(121),C=a(141),I=a(138),z=a(122),A=a.n(z),R=a(255),U=a(257),L=a(252),N=a(254),P=a(256),B=a(94),D=function(e){var t={padding:"15px 0"};return l.a.createElement("div",{className:A.a.parent},l.a.createElement(R.a,{style:t,type:"flex",align:"middle"},l.a.createElement(U.a,{span:6},l.a.createElement(L.a.Text,{align:"middle"},e.store.global.input_token_text)),l.a.createElement(U.a,{span:18},l.a.createElement(N.a,{placeholder:e.store.global.input_token_description,name:"username",size:"large",width:"100%",value:e.store.global.input_token_value,onChange:function(t){e.action.global.input_token_change(t.target.value)}}))),e.store.global.error_auth_show?l.a.createElement(R.a,{style:t,type:"flex",align:"middle"},l.a.createElement(P.a,{message:e.store.global.error_auth_text,type:"error"})):null,l.a.createElement(R.a,{style:t,type:"flex",align:"middle"},l.a.createElement(U.a,{span:24},l.a.createElement(B.a,{type:"primary",size:"large",onClick:function(){return e.action.global.auth(e.store.global.input_token_value)},htmlType:"submit",style:{float:"right"}},e.store.global.login_btn_text))))},J=a(132),W=a.n(J),X=a(251),F=a(258),G=a(253),H=a(55),K=a.n(H),M=function(e){var t={padding:"15px 0"};return l.a.createElement("div",{className:W.a.parent},e.store.global.is_access_api_chat?null:l.a.createElement(X.a,{direction:"horizontal"},l.a.createElement(K.a,{style:{color:"red"}}),l.a.createElement(L.a.Text,{style:{color:"red"}},"\u0414\u0430\u043d\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d \u043d\u0435 \u0438\u043c\u0435\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0447\u0430\u0442\u0430 \u0438\u043b\u0438 \u0443 \u0412\u0430\u0441 \u043d\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043e\u043f\u0446\u0438\u044f",l.a.createElement("br",null),'"U_API \u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430" \u0432 ',l.a.createElement("a",{href:"https://app.uiscom.ru/#controller.id=%22account.tariffs.controller.Page%22",target:"_blank",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"},"\u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435"))),l.a.createElement(R.a,{style:t,type:"flex",align:"middle"},l.a.createElement(U.a,{span:10},l.a.createElement(L.a.Text,{align:"middle",style:{marginRight:"5px"}},"\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f:")),l.a.createElement(U.a,{span:14},l.a.createElement(F.a,{disabled:!e.store.global.is_access_api_chat,style:{float:"right"},size:"large",checkedChildren:"\u0412\u041a\u041b",unCheckedChildren:"\u0412\u042b\u041a\u041b",checked:e.store.global.is_integration,onChange:function(t){return e.action.global.set_integration_status(t)}}))),l.a.createElement(R.a,{style:t,type:"flex",align:"middle"},l.a.createElement(U.a,null,l.a.createElement(L.a.Text,{align:"middle",style:{marginRight:"5px"},disabled:!e.store.global.is_integration},"\u0410\u0434\u0440\u0435\u0441 \u0434\u043b\u044f \u0432\u0435\u0431\u0445\u0443\u043a\u043e\u0432 Livetex:")),l.a.createElement(U.a,null,l.a.createElement(L.a.Text,{copyable:e.store.global.is_integration,code:!0,disabled:!e.store.global.is_integration},e.store.global.url_webhook))),l.a.createElement(R.a,null,l.a.createElement(U.a,null,l.a.createElement("a",{href:"https://my.livetex.ru/products/integrations",title:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Livetex",target:"_blank"},"https://my.livetex.ru/products/integrations"))),l.a.createElement(R.a,{style:t,type:"flex",align:"middle"},l.a.createElement(U.a,{span:7},l.a.createElement(L.a.Text,{align:"middle",style:{marginRight:"5px"},disabled:!e.store.global.is_integration},"\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0434\u043b\u044f \u0447\u0430\u0442\u0430:")),l.a.createElement(U.a,{span:1},null==e.store.global.select_user_id?l.a.createElement(K.a,{style:{color:"red"}}):null),l.a.createElement(U.a,{span:16},l.a.createElement(G.a,{disabled:!e.store.global.is_integration,value:e.store.global.select_user_id,style:{width:"100%"},size:"large",onSelect:function(t){return e.action.global.on_select_user(t)}},e.store.global.user_list.map((function(e){return l.a.createElement(G.a.Option,{value:e.user_id},e.user_name)}))))),l.a.createElement(R.a,{style:t,type:"flex",align:"middle"},l.a.createElement(U.a,{span:7},l.a.createElement(L.a.Text,{align:"middle",style:{marginRight:"5px"},disabled:!e.store.global.is_integration},"\u0421\u0430\u0439\u0442 \u0434\u043b\u044f \u0447\u0430\u0442\u0430:")),l.a.createElement(U.a,{span:1},null==e.store.global.select_site_id?l.a.createElement(K.a,{style:{color:"red"}}):null),l.a.createElement(U.a,{span:16},l.a.createElement(G.a,{disabled:!e.store.global.is_integration,value:e.store.global.select_site_id,style:{width:"100%"},size:"large",onSelect:function(t){return e.action.global.on_select_site(t)}},e.store.global.site_list.map((function(e){return l.a.createElement(G.a.Option,{value:e.site_id},e.site_name)}))))),l.a.createElement(R.a,null,l.a.createElement(U.a,{span:17}),l.a.createElement(U.a,{span:7},l.a.createElement(B.a,{type:"primary",size:"large",onClick:function(){return e.action.global.save(e.store.global.app_id,e.store.global.is_integration,e.store.global.select_user_id,e.store.global.select_site_id)},htmlType:"submit",style:{float:"right"}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))},V=function(e){Object(C.a)(a,e);var t=Object(I.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(S.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.props.store.global.is_auth?l.a.createElement(M,this.props):l.a.createElement(D,this.props))}}]),a}(n.Component),$=Object(o.b)((function(e){return{store:e}}),(function(e){return{action:{global:{auth:function(t){return e(f.auth(t))},input_token_change:function(t){return e(f.input_token_change(t))},on_select_user:function(t){return e(f.on_select_user(t))},save:function(t,a,n,l){return e(f.save(t,a,n,l))},on_select_site:function(t){return e(f.on_select_site(t))},set_integration_status:function(t){return e(f.set_integration_status(t))}}}}}))(V);var q=function(){return l.a.createElement(o.a,{store:O},l.a.createElement(w.b,{locale:T.a},l.a.createElement($,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[143,1,2]]]);
//# sourceMappingURL=main.3818584b.chunk.js.map